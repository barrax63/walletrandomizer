version: '3.8'

services:
  walletrandomizer:
    build:
      context: .
      dockerfile: Dockerfile
    image: walletrandomizer:latest
    container_name: walletrandomizer
    environment:
      # Required: Fulcrum server address (format: host:port)
      FULCRUM_SERVER: "${FULCRUM_SERVER}"
      
      # Optional with defaults
      NUM_WALLETS: "${NUM_WALLETS:-10}"
      NUM_ADDRESSES: "${NUM_ADDRESSES:-5}"
      NETWORK: "${NETWORK:-bip44,bip84}"
      OUTPUT_PATH: "${OUTPUT_PATH:-/data}"
      FORMAT: "${FORMAT:-json}"
    volumes:
      # Mount data volume for output files
      - wallet-data:/data
    ports:
      # Publish port 5000 (for potential future web interface)
      - "5000:5000"
    # Override command if needed
    # command: []

volumes:
  wallet-data:
    driver: local
